let accommodations=[{id:1,propertyName:"Kingston Hostel",propertyType:"Hostel",address:"33 Dunmore St.",rating:3,drinks:!1,meals:!0,wifi:!0,minPerson:1,maxPerson:1,minStay:1,maxStay:10,price:30,longitude:169.13618468201614,latitude:-44.69307027796208,image:["https://images.unsplash.com/photo-1553444859-788c4b385b13?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1553444859-788c4b385b13?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 3-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:2,propertyName:"Hedditch Cottage",propertyType:"Hostel",address:"76 Hedditch St.",rating:3,drinks:!1,meals:!0,wifi:!0,minPerson:1,maxPerson:1,minStay:1,maxStay:10,price:30,longitude:169.14760760393548,latitude:-44.691159389348286,image:["https://images.unsplash.com/photo-1535961671600-c244ea895cec?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1535961671600-c244ea895cec?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:3,propertyName:"Belmont Lodge",propertyType:"Hotel",address:"120 Browston St.",rating:4.5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:2,minStay:1,maxStay:5,price:157,longitude:169.1348656343329,latitude:-44.71476276242638,image:["https://images.unsplash.com/photo-1682204803376-1c7dae90db28?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1682204803376-1c7dae90db28?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:4,propertyName:"Wanaka Retreat",propertyType:"Hotel",address:"65  Little St.",rating:4.5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:2,minStay:1,maxStay:5,price:157,longitude:169.11241468540766,latitude:-44.694683102002955,image:["https://images.unsplash.com/photo-1612320582827-a95ab2596dbc?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1612320582827-a95ab2596dbc?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"A cozy and luxurious lodge nestled in the alpine hills overlooking the great Wanaka lake, Belmont Lodge provides its visitors a breathtaking and rejuvenating getaway from the city hustle and bustle. Located just a 3 mins. walk away from Milford Sound Tours, you can assure to never miss a great adventure into the South Islands most picturesque landscapes."},{id:5,propertyName:"Lismore Motel",propertyType:"Motel",address:"10 Lismore St.",rating:3.5,drinks:!1,meals:!0,wifi:!0,minPerson:2,maxPerson:4,minStay:3,maxStay:10,price:90,longitude:169.13625139036435,latitude:-44.69560231920775,image:["https://images.unsplash.com/photo-1642552647918-32f6d5401980?q=80&w=2066&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1642552647918-32f6d5401980?q=80&w=2066&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Lismore Motel is a comfortable and spacious motel located near the Wanaka waterfront, for our guests convenience to enjoy the culinary and shopping center of our humble and picturesque town. All of our guests can take a sunny morning stroll along the lake promenade and even visit the Information Center, where they can get more tourist info on the Lake Wanaka and greater region."},{id:6,propertyName:"Mackay Point",propertyType:"Motel",address:"59 Helwick St.",rating:3.5,drinks:!1,meals:!0,wifi:!0,minPerson:2,maxPerson:4,minStay:3,maxStay:10,price:90,longitude:169.13630262373874,latitude:-44.7110685267468,image:["https://images.unsplash.com/photo-1642552645890-69e371b0a81f?q=80&w=1786&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1642552645890-69e371b0a81f?q=80&w=1786&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:7,propertyName:"Brenner House",propertyType:"House",address:"25 Hunter Cres.",rating:5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:4,minStay:2,maxStay:15,price:240,longitude:169.1271424188769,latitude:-44.678758443829125,image:["https://images.unsplash.com/photo-1599303061483-b93b527dc0ed?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1599303061483-b93b527dc0ed?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:8,propertyName:"Beacon Sanctuary",propertyType:"House",address:"5 Beacon Point Rd.",rating:5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:4,minStay:2,maxStay:15,price:240,longitude:169.13020125245836,latitude:-44.67180474844172,image:["https://images.unsplash.com/photo-1606402179428-a57976d71fa4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1606402179428-a57976d71fa4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."}],selectedAccommodationId=null;$(document).ready(function(){function d(e,a){mapboxgl.accessToken="pk.eyJ1IjoiY2lhcmFuc2xvdyIsImEiOiJjbHY0ZW91YnYwOGV3MmlwOGQ5b3l3a3J3In0.EFWZEAWA13ehFAw5jdLqJA";var i=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v12",center:[e,a],zoom:13});(new mapboxgl.Marker).setLngLat([e,a]).addTo(i)}new fullpage("#fullpage",{licenseKey:"gplv3-license",autoScrolling:!0,scrollHorizontally:!0,controlArrows:!1,fixedElements:".navbar, #accommodationModal"}),fullpage_api.setAllowScrolling(!1);new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});function n(e){var a=$("#accommodation-results");for(a.html(""),i=0;i<$(e).length;i++){var t=e[i],t=`
      <div class="accommodation-card">
        <div class="swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="${t.image[0]}" alt="${t.propertyName} image 1" class="accommodation-item-image" data-id="${t.id}"></div>
            <div class="swiper-slide"><img src="${t.image[1]}" alt="${t.propertyName} image 2" class="accommodation-item-image" data-id="${t.id}"></div>
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
        <div class="accommodation-details">
          <div class="accomm-details-top-container">
            <div class="accomm-details-header-container">
              <h3 class="green-header">${t.propertyName}</h3>
              <h4 class="green-header">${t.address}</h4>
            </div>
            <div class="accomm-details-ratings">
              <h3 class="accomm-ratings">${t.rating}</h3>
              <i class="fa-solid fa-award"></i>
            </div>
          </div>
          <div class="accomm-details-bottom-container">
            <h3 class="black-label">$${t.price}/night</h3>
            <h3 class="black-label">${t.minPerson}-${t.maxPerson} guests</h3>
          </div>
        </div>
      </div>
      `;a.append(t),!function(){let s=$("#accommodationModal")[0],e=$(".accommodation-item-image");e.on("click",function(e){s.showModal(),document.body.classList.add("opened-modal");var e=e.target.getAttribute("data-id"),a=selectedAccommodationId=e,e=$(".modalContent"),i=accommodations.find(e=>e.id==a),t=i.longitude,o=i.latitude;e.html(`
    <div class="swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide"><img src="${i.image[0]}" alt="${i.propertyName} image1" class="accommodation-item-image" data-id="${i.id}"></div>
          <div class="swiper-slide"><img src="${i.image[1]}" alt="${i.propertyName} image2" class="accommodation-item-image" data-id="${i.id}"></div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
    <div class="accommodation-details">
      <div class="accomm-details-top-container">
        <div class="accomm-details-header-container">
          <h3 class="green-header">${i.propertyName}</h3>
          <h4 class="green-header">${i.address}</h4>
        </div>
        <div class="accomm-details-ratings">
          <h3 class="accomm-ratings">${i.rating}</h3>
          <i class="fa-solid fa-award"></i>
        </div>
      </div>
      <div class="accomm-details-bottom-container">
        <h3 class="black-label">$${i.price}/night</h3>
        <h3 class="black-label">${i.minPerson}-${i.maxPerson} guests</h3>
      </div>
      <div class="accommodation-info">
        <p class="black-body-text">${i.description}</p>
        <div class="accomm-ammenities">
          <h3 class="blue-header">Ammenities: </h3>
            <i class="fa-solid fa-wine-glass-empty blue-icon"></i>
            <i class="fa-solid fa-utensils blue-icon"></i>
            <i class="fa-solid fa-wifi blue-icon"></i>
        </div>
        <div id="map"></div>
      </div>
      <div class="book-accomm-btn-container">
        <button class="book-accomm-submit-btn" id="bookAccommButton">Book Accommodation</button>
      </div>
    </div>
    `),new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),d(t,o),$("#bookAccommButton").on("click",function(e){e.preventDefault(),r(),fullpage_api.moveTo(1,3)})}),function(){var e=$("#closeModal");e.off("click",r),e.on("click",r)}()}()}new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function l(){var e=$("#startDate").datepicker("getDate"),a=$("#endDate").datepicker("getDate");return e&&a?(a=Math.abs(a.getTime()-e.getTime()),Math.ceil(a/864e5)):0}function r(){$("#accommodationModal")[0].close(),document.body.classList.remove("opened-modal")}$("#startDate").datepicker({dateFormat:"dd/mm/yy"}),$("#endDate").datepicker({dateFormat:"dd/mm/yy"}),$("#findAccommodationsButton").click(function(e){e.preventDefault(),fullpage_api.moveTo(1,1)}),$("#findAccommodationsSubmitButton").click(function(e){if(e.preventDefault(),function(){let e=!0,a="";""===$("#accommodationType").val()&&(e=!1,a+="Please select an accommodation type<br>");""===$("#numberOfGuests").val()&&(e=!1,a+="Please select the number of guests<br>");""===$("#minPrice").val()&&(e=!1,a+="Please select a minimum price<br>");""===$("#maxPrice").val()&&(e=!1,a+="Please select a maximum price<br>");""===$("#startDate").val()&&(e=!1,a+="Please select a start date<br>");""===$("#endDate").val()&&(e=!1,a+="Please select an end date<br>");e?$("#errorMessage").hide():$("#errorMessageContainer").html(a).show();return e}()){fullpage_api.moveTo(1,2);{let a=$("#accommodationType").val(),i=parseInt($("#numberOfGuests").val()),t=parseFloat($("#minPrice").val().replace("$","")),o=parseFloat($("#maxPrice").val().replace("$","")),s=l(),e=accommodations.filter(e=>("any"===a||e.propertyType===a)&&e.minPerson<=i&&e.maxPerson>=i&&e.price>=t&&e.price<=o&&e.minStay<=s&&e.maxStay>=s);n(e)}}}),$("#accommMealsSubmitButton").click(function(e){var a,i,t,o,s,n,r;e.preventDefault(),null!==selectedAccommodationId?(a=selectedAccommodationId,e=accommodations.find(e=>e.id==a),i=$("#numberOfGuests").val(),t=$("#startDate").datepicker("getDate"),o=$("#endDate").datepicker("getDate"),s=l(),n=function(){var e=accommodations.find(e=>e.id==selectedAccommodationId),a=l(),e=e.price,i=$('input[name="mealsOption"]:checked').val(),i=parseFloat(i),e=e*a+i;return e}(),t=$.datepicker.formatDate("dd/mm/yy",t),o=$.datepicker.formatDate("dd/mm/yy",o),r=$("#outputBookingDetails"),n=`
      <div class="booking-details-left-container">
        <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><img src="${e.image[0]}" alt="${e.propertyName} image1" class="accommodation-item-image" data-id="${e.id}"></div>
              <div class="swiper-slide"><img src="${e.image[1]}" alt="${e.propertyName} image2" class="accommodation-item-image" data-id="${e.id}"></div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
        <div id="map"></div>
        <button class="form-submit-btn">Confirm Booking</button>
      </div>
                    
    <div class="booking-details-right-container">
        <div class="booking-info-main-container">
            <h3 class="green-header">Booking Details</h3>

            <div class="booking-info-text-container">
                <h4 class="blue-booking-header">Accommodation Name</h4>
                <div class="booking-info-body-container">
                    <p class="black-body-text-large">${e.propertyName}</p>
                </div>

                <h4 class="blue-booking-header">Location Address</h4>
                <div class="booking-info-body-container">
                    <p class="black-body-text-large">${e.address}</p>
                </div>

                <h4 class="blue-booking-header">Total Booking Fee</h4>
                <div class="booking-info-body-container">
                    <p class="black-body-text-large">$${n} (Total Booking & Meals Fee)</p>
                </div>

                <h4 class="blue-booking-header">Number of Guests</h4>
                <div class="booking-info-body-container">
                    <p class="black-body-text-large">${i} guests</p>
                </div>

                <h4 class="blue-booking-header">Check In & Out Date</h4>
                <div class="booking-info-body-container">
                    <p class="black-body-text-large">Check In: ${t}</p>
                    <p class="black-body-text-large">Check Out: ${o}</p>
                    <p class="black-body-text-large">Number of Nights: ${s}</p>
                </div>
            </div>
        </div>
    </div>
    `,i=e.longitude,t=e.latitude,r.empty(),r.append(n),d(i,t),new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),fullpage_api.moveTo(1,4)):alert("Please select an accommodation first")}),n()});