let accommodations=[{id:1,propertyName:"Kingston Hostel",propertyType:"Hostel",address:"33 Dunmore St.",rating:3,drinks:!1,meals:!0,wifi:!0,minPerson:1,maxPerson:1,minStay:1,maxStay:10,price:30,longitude:169.14796156828785,latitude:-44.68833610545848,image:["https://images.unsplash.com/photo-1553444859-788c4b385b13?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1553444859-788c4b385b13?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:2,propertyName:"Hedditch Cottage",propertyType:"Hostel",address:"76 Hedditch St.",rating:3,drinks:!1,meals:!0,wifi:!0,minPerson:1,maxPerson:1,minStay:1,maxStay:10,price:30,longitude:169.14400050370767,latitude:-44.69240595726597,image:["https://images.unsplash.com/photo-1535961671600-c244ea895cec?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1535961671600-c244ea895cec?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:3,propertyName:"Belmont Lodge",propertyType:"Hotel",address:"120 Browston St.",rating:4.5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:2,minStay:1,maxStay:5,price:157,longitude:169.1348656343329,latitude:-44.71476276242638,image:["https://images.unsplash.com/photo-1682204803376-1c7dae90db28?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1682204803376-1c7dae90db28?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:4,propertyName:"Wanaka Retreat",propertyType:"Hotel",address:"65  Little St.",rating:4.5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:2,minStay:1,maxStay:5,price:157,longitude:169.11241468540766,latitude:-44.694683102002955,image:["https://images.unsplash.com/photo-1612320582827-a95ab2596dbc?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1612320582827-a95ab2596dbc?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:5,propertyName:"Lismore Motel",propertyType:"Motel",address:"10 Lismore St.",rating:3.5,drinks:!1,meals:!0,wifi:!0,minPerson:2,maxPerson:4,minStay:3,maxStay:10,price:90,longitude:169.12749734263406,latitude:-44.68476604629336,image:["https://images.unsplash.com/photo-1642552647918-32f6d5401980?q=80&w=2066&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1642552647918-32f6d5401980?q=80&w=2066&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:6,propertyName:"Mackay Point",propertyType:"Motel",address:"59 Helwick St.",rating:3.5,drinks:!1,meals:!0,wifi:!0,minPerson:2,maxPerson:4,minStay:3,maxStay:10,price:90,longitude:169.13630262373874,latitude:-44.7110685267468,image:["https://images.unsplash.com/photo-1642552645890-69e371b0a81f?q=80&w=1786&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1642552645890-69e371b0a81f?q=80&w=1786&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:7,propertyName:"Brenner House",propertyType:"House",address:"25 Hunter Cres.",rating:5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:4,minStay:2,maxStay:15,price:240,longitude:169.1271424188769,latitude:-44.678758443829125,image:["https://images.unsplash.com/photo-1599303061483-b93b527dc0ed?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1599303061483-b93b527dc0ed?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."},{id:8,propertyName:"Beacon Sanctuary",propertyType:"House",address:"5 Beacon Point Rd.",rating:5,drinks:!0,meals:!0,wifi:!0,minPerson:1,maxPerson:4,minStay:2,maxStay:15,price:240,longitude:169.13020125245836,latitude:-44.67180474844172,image:["https://images.unsplash.com/photo-1606402179428-a57976d71fa4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1606402179428-a57976d71fa4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],description:"Beside the calming  and grand lake Wanaka, and a 10-min walk from the lakeside central business district, Kingston Hostel offers a comfortable and humble experience to its guests. The ground level of the hostel hosts an award-winning cafe, The Caffeine Fix, and a gift-shop, where its visitors can browse and buy hand-made and local trinkets and novelty gifts hand-crafted by our community."}];$(document).ready(function(){function d(a,e){mapboxgl.accessToken="pk.eyJ1IjoiY2lhcmFuc2xvdyIsImEiOiJjbHY0ZW91YnYwOGV3MmlwOGQ5b3l3a3J3In0.EFWZEAWA13ehFAw5jdLqJA";var i=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v12",center:[a,e],zoom:12});(new mapboxgl.Marker).setLngLat([a,e]).addTo(i)}new fullpage("#fullpage",{licenseKey:"gplv3-license",autoScrolling:!0,scrollHorizontally:!0,controlArrows:!0,fixedElements:".navbar, #accommodationModal"});new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});function n(a){let e=$("#accommodation-results");e.html(""),a.forEach(a=>{a=`
      <div class="accommodation-card">
        <div class="swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="${a.image[0]}" alt="${a.propertyName} image 1" class="accommodation-item-image" data-id="${a.id}"></div>
            <div class="swiper-slide"><img src="${a.image[1]}" alt="${a.propertyName} image 2" class="accommodation-item-image" data-id="${a.id}"></div>
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
        <div class="accommodation-details">
          <div class="accomm-details-top-container">
            <div class="accomm-details-header-container">
              <h3 class="green-header">${a.propertyName}</h3>
              <h4 class="green-header">${a.address}</h4>
            </div>
            <div class="accomm-details-ratings">
              <h3 class="accomm-ratings">${a.rating}</h3>
              <i class="fa-solid fa-award"></i>
            </div>
          </div>
          <div class="accomm-details-bottom-container">
            <h3 class="black-label">$${a.price}/night</h3>
            <h3 class="black-label">${a.minPerson}-${a.maxPerson} guests</h3>
          </div>
        </div>
      </div>
      `;e.append(a);{let a=$("#accommodationModal")[0],e=$(".accommodation-item-image");e.on("click",function(o){a.showModal(),document.body.classList.add("opened-modal");o=o.target.getAttribute("data-id");selectedAccommodationId=o;{var s=o,n=c;let a=$(".modalContent"),i=accommodations.find(a=>a.id==s),e=i.longitude,t=i.latitude;a.html(`
    <div class="swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide"><img src="${i.image[0]}" alt="${i.propertyName} image1" class="accommodation-item-image" data-id="${i.id}"></div>
          <div class="swiper-slide"><img src="${i.image[1]}" alt="${i.propertyName} image2" class="accommodation-item-image" data-id="${i.id}"></div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
    <div class="accommodation-details">
      <div class="accomm-details-top-container">
        <div class="accomm-details-header-container">
          <h3 class="green-header">${i.propertyName}</h3>
          <h4 class="green-header">${i.address}</h4>
        </div>
        <div class="accomm-details-ratings">
          <h3 class="accomm-ratings">${i.rating}</h3>
          <i class="fa-solid fa-award"></i>
        </div>
      </div>
      <div class="accomm-details-bottom-container">
        <h3 class="black-label">$${i.price}/night</h3>
        <h3 class="black-label">${i.minPerson}-${i.maxPerson} guests</h3>
      </div>
      <div class="accommodation-info">
        <p class="black-body-text">${i.description}</p>
        <div class="accomm-ammenities">
          <h3 class="blue-header">Ammenities: </h3>
            <i class="fa-solid fa-wine-glass-empty blue-icon"></i>
            <i class="fa-solid fa-utensils blue-icon"></i>
            <i class="fa-solid fa-wifi blue-icon"></i>
        </div>
        <div id="map"></div>
      </div>
      <div class="book-accomm-btn-container">
        <button class="book-accomm-submit-btn" id="bookAccommButton">Book Accommodation</button>
      </div>
    </div>
    `),new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),d(e,t),$("#bookAccommButton").on("click",function(a){a.preventDefault();var a=i.id,e=i.price;n(a,e),l(),fullpage_api.moveTo(1,3)})}});var i=$("#closeModal");i.off("click",l),i.on("click",l)}});new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function r(){var a=$("#startDate").datepicker("getDate"),e=$("#endDate").datepicker("getDate");return a&&e?(e=Math.abs(e.getTime()-a.getTime()),Math.ceil(e/864e5)):0}function l(){$("#accommodationModal")[0].close(),document.body.classList.remove("opened-modal")}function c(a,e){console.log(a),console.log(e)}$("#startDate").datepicker({dateFormat:"dd/mm/yy"}),$("#endDate").datepicker({dateFormat:"dd/mm/yy"}),$("#findAccommodationsButton").click(function(a){a.preventDefault(),fullpage_api.moveTo(1,1)}),$("#findAccommodationsSubmitButton").click(function(a){if(a.preventDefault(),function(){let a=!0,e="";""===$("#accommodationType").val()&&(a=!1,e+="Please select an accommodation type<br>");""===$("#numberOfGuests").val()&&(a=!1,e+="Please select the number of guests<br>");""===$("#minPrice").val()&&(a=!1,e+="Please select a minimum price<br>");""===$("#maxPrice").val()&&(a=!1,e+="Please select a maximum price<br>");""===$("#startDate").val()&&(a=!1,e+="Please select a start date<br>");""===$("#endDate").val()&&(a=!1,e+="Please select an end date<br>");a?$("#errorMessage").hide():$("#errorMessageContainer").html(e).show();return a}()){fullpage_api.moveTo(1,2);{let e=$("#accommodationType").val(),i=parseInt($("#numberOfGuests").val()),t=parseFloat($("#minPrice").val().replace("$","")),o=parseFloat($("#maxPrice").val().replace("$","")),s=r(),a=(console.log(s),accommodations.filter(a=>("any"===e||a.propertyType===e)&&a.minPerson<=i&&a.maxPerson>=i&&a.price>=t&&a.price<=o&&a.minStay<=s&&a.maxStay>=s));console.log(a),n(a)}}}),$("#accommMealsSubmitButton").click(function(a){var e,i,t,o,s,n;a.preventDefault(),null!==selectedAccommodationId?(e=selectedAccommodationId,a=accommodations.find(a=>a.id==e),i=$("#numberOfGuests").val(),t=$("#startDate").datepicker("getDate"),o=$("#endDate").datepicker("getDate"),s=r(),t=$.datepicker.formatDate("dd/mm/yy",t),o=$.datepicker.formatDate("dd/mm/yy",o),n=$("#outputBookingDetails"),i=`
      <div class="booking-details-left-container">
        <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><img src="${a.image[0]}" alt="${a.propertyName} image1" class="accommodation-item-image" data-id="${a.id}"></div>
              <div class="swiper-slide"><img src="${a.image[1]}" alt="${a.propertyName} image2" class="accommodation-item-image" data-id="${a.id}"></div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
        <div id="map"></div>
        <button class="form-submit-btn">Confirm Booking</button>
      </div>
                    
    <div class="booking-details-right-container">
        <div class="booking-info-main-container">
            <h3 class="green-header">Booking Details</h3>

            <div class="booking-info-text-container">
                <h4>Accommodation Name</h4>
                <div class="booking-info-body-container">
                    <p>${a.propertyName}</p>
                </div>

                <h4>Location Address</h4>
                <div class="booking-info-body-container">
                    <p>${a.address}</p>
                </div>

                <h4>Total Booking Fee</h4>
                <div class="booking-info-body-container">
                    <p></p>
                </div>

                <h4>Number of Guests</h4>
                <div class="booking-info-body-container">
                    <p>${i} guests</p>
                </div>

                <h4>Check In & Out Date</h4>
                <div class="booking-info-body-container">
                    <p>Check In: ${t}</p>
                    <p>Check Out: ${o}</p>
                    <p>Number of Nights: ${s}</p>
                </div>
            </div>
        </div>
    </div>
    `,t=a.longitude,o=a.latitude,n.empty(),n.append(i),d(t,o),new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),fullpage_api.moveTo(1,4)):alert("Please select an accommodation first.")}),n()});